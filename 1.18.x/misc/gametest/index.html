<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>인게임 테스트 - Forge Korean Documentation</title>

    <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="../../images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../images/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="../../images/manifest.json">
    <link rel="mask-icon" href="../../images/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../images/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="Forge Docs">
    <meta name="application-name" content="Forge Docs">
    <meta name="msapplication-config" content="../../images/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="https://use.fontawesome.com/a1f20be65b.css">
    <link rel="stylesheet" href="../../css/styles_dark.css?version=2" data-theme="dark">
    <link rel="stylesheet" href="../../css/styles_light.css?version=2" data-theme="light">

    
    <link href="../../css/version_warning_fix.css" rel="stylesheet">
    
    <script type="text/javascript" src="../../js/theme-switch.js"></script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jScrollPane/2.0.23/script/jquery.jscrollpane.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/stickyfill/1.1.4/stickyfill.min.js"></script>
    <script type="text/javascript" src="../../js/theme.js"></script>

    <script>var base_url = '../..';</script>
    
    <script src="../../search/main.js"></script>
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    
</head>
<body>
<header>
    <div class="wrapper">
        <div class="logo">
            <a href="#" class="open-sidebar"><i class="fa fa-bars"></i></a>
            <a href="../.." class="logo-image"><img src="../../images/logo.svg" width="244"></a>
        </div>
        <nav>
            <ul class="links clearfix">
                <li><a href="https://minecraftforge.net/">Forums</a></li>
            </ul>
        </nav>
        
        <form role="search" id="rtd-search-form" class="search" action="../../search.html" method="get">
            <input type="submit" value="&#xf002;">
            <div class="search-field">
                <input type="search" title="Search" name="q" placeholder="Search...">
            </div>
        </form>
        
    </div>
</header>
<main class="wrapper sidebar-wrapper">
    <div class="sidebar-left sidebar-sticky">
        <aside>
            <section class="sidebar-nav">
                <h2 class="sidebar-heading">
                    <a href="#" class="close-sidebar"><i class="fa fa-bars"></i></a> Navigation
                    <form class="version-selection">
                        <label for="version-selection-dropdown">Docs:</label>
                        <select id="version-selection-dropdown" class="version-selection-dropdown" onchange="location = this.value;">
                            
                            <option value="https://hkmod.github.io/Forge-Korean-Documents/latest" selected>MinecraftForge</option>
                            
                            <option value="https://hkmod.github.io/Forge-Korean-Documents/fg-6.x" >ForgeGradle</option>
                            
                        </select>
                    </form>
                </h2>
                <h2 class="sidebar-heading">
                    <form class="version-selection">
                        <label for="version-selection-dropdown">Version:</label>
                        <select id="version-selection-dropdown" class="version-selection-dropdown" onchange="location = this.value;">
                            
                            <option value="https://hkmod.github.io/Forge-Korean-Documents/1.16.x" >1.16.x</option>
                            
                            <option value="https://hkmod.github.io/Forge-Korean-Documents/1.18.x" selected>1.18.x</option>
                            
                            <option value="https://hkmod.github.io/Forge-Korean-Documents/1.19.2" >1.19.2</option>
                            
                            <option value="https://hkmod.github.io/Forge-Korean-Documents/1.19.x" >1.19.x</option>
                            
                        </select>
                    </form>
                </h2>
                <ul class="section-content scroll-pane">
                    
                    
<li >
    
    <a href="../.." class="elem-text">Home</a>
    
    
</li>

                    
                    
<li >
    
    <a href="../../contributing/" class="elem-text">문서에 기여하기</a>
    
    
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 시작하기</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../gettingstarted/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gettingstarted/structuring/" class="elem-text">모드 기본 구조 작성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gettingstarted/versioning/" class="elem-text">버전 구조</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 핵심 개념들</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../concepts/registries/" class="elem-text">레지스트리</a>
    
    
</li>

        
        
<li >
    
    <a href="../../concepts/sides/" class="elem-text">사이드</a>
    
    
</li>

        
        
<li >
    
    <a href="../../concepts/events/" class="elem-text">이벤트</a>
    
    
</li>

        
        
<li >
    
    <a href="../../concepts/lifecycle/" class="elem-text">모드 생명주기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../concepts/resources/" class="elem-text">리소스</a>
    
    
</li>

        
        
<li >
    
    <a href="../../concepts/internationalization/" class="elem-text">다국어 지원</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 블록</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../blocks/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../blocks/states/" class="elem-text">블록의 상태</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 아이템</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../items/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../items/bewlr/" class="elem-text">BlockEntityWithoutLevelRenderer</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 네트워킹</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../networking/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../networking/simpleimpl/" class="elem-text">SimpleImpl</a>
    
    
</li>

        
        
<li >
    
    <a href="../../networking/entities/" class="elem-text">엔티티 동기화하기</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 블록 엔티티</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../blockentities/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../blockentities/ber/" class="elem-text">BlockEntityRenderer</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 인게임 효과</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../gameeffects/particles/" class="elem-text">파티클</a>
    
    
</li>

        
        
<li >
    
    <a href="../../gameeffects/sounds/" class="elem-text">효과음</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 데이터 저장소</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datastorage/capabilities/" class="elem-text">캐패빌리티</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datastorage/saveddata/" class="elem-text">레벨 저장 데이터</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 렌더링</a>
    
    <ul class="nav-collapsible ">
        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 모델 로더</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../rendering/modelloaders/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../rendering/modelloaders/bakedmodel/" class="elem-text">최적화된 모델</a>
    
    
</li>

        
        
<li >
    
    <a href="../../rendering/modelloaders/perspective/" class="elem-text">시점</a>
    
    
</li>

        
        
<li >
    
    <a href="../../rendering/modelloaders/itemoverrides/" class="elem-text">아이템 속성에 따른 동적 텍스쳐 변경</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 리소스</a>
    
    <ul class="nav-collapsible ">
        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 클라이언트용 애셋</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/client/" class="elem-text">소개</a>
    
    
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 모델</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/client/models/" class="elem-text">모델 소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/client/models/tinting/" class="elem-text">텍스쳐 염색</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/client/models/itemproperties/" class="elem-text">아이템 속성</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 서버 데이터</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/server/" class="elem-text">소개</a>
    
    
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 조합법</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../resources/server/recipes/" class="elem-text">조합법 소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/recipes/custom/" class="elem-text">사용자지정 조합법</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/recipes/ingredients/" class="elem-text">재료</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/recipes/incode/" class="elem-text">데이터팩을 쓰지 않는 조합법</a>
    
    
</li>

        
    </ul>
</li>

        
        
<li >
    
    <a href="../../resources/server/loottables/" class="elem-text">컨테이너 전리품 테이블</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/glm/" class="elem-text">전체 전리품 수정하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/tags/" class="elem-text">태그</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/advancements/" class="elem-text">도전과제</a>
    
    
</li>

        
        
<li >
    
    <a href="../../resources/server/conditional/" class="elem-text">조건적으로 불러와지는 데이터</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 데이터 생성</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datagen/" class="elem-text">소개</a>
    
    
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 클라이언트 애셋</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datagen/client/modelproviders/" class="elem-text">모델 생성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/client/localization/" class="elem-text">언어 생성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/client/sounds/" class="elem-text">소리 생성하기</a>
    
    
</li>

        
    </ul>
</li>

        
        
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 서버 데이터</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../datagen/server/recipes/" class="elem-text">조합법 생성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/loottables/" class="elem-text">컨테이너 전리품 테이블 생성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/tags/" class="elem-text">태그 생성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/advancements/" class="elem-text">도전과제 생성하기</a>
    
    
</li>

        
        
<li >
    
    <a href="../../datagen/server/glm/" class="elem-text">전체 전리품 수정 데이터 생성하기</a>
    
    
</li>

        
    </ul>
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 기타 기능</a>
    
    <ul class="nav-collapsible nav-collapsible-open">
        
        
<li >
    
    <a href="../config/" class="elem-text">모드 설정 파일</a>
    
    
</li>

        
        
<li class="elem-active elem-toc" >
    
    <a href="#_1" class="elem-text">인게임 테스트</a>
    
    
    <ul class="table-of-contents">
        
        
        
        <li class="toc-subitem"><a href="#_2">게임 테스트 작성하기</a></li>
        
        <li class="toc-subitem"><a href="#_8">게임 테스트 등록하기</a></li>
        
        <li class="toc-subitem"><a href="#_9">구조물</a></li>
        
        <li class="toc-subitem"><a href="#_10">게임 테스트 수행하기</a></li>
        
        <li class="toc-subitem"><a href="#_11">빌드스크립트 설정</a></li>
        
        
    </ul>
    
</li>

        
        
<li >
    
    <a href="../updatechecker/" class="elem-text">자동 업데이트 확인</a>
    
    
</li>

        
        
<li >
    
    <a href="../debugprofiler/" class="elem-text">디버그 프로파일러</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 심화 주제</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../advanced/accesstransformers/" class="elem-text">접근 변형자</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 포지에 기여하기</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../forgedev/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../forgedev/prguidelines/" class="elem-text">PR 가이드라인</a>
    
    
</li>

        
    </ul>
</li>

                    
                    
<li class="elem-parent">
    
    <a href="#" class="elem-text toggle-collapsible"><span class="fa fa-plus collapsible-icon"></span> 구버전</a>
    
    <ul class="nav-collapsible ">
        
        
<li >
    
    <a href="../../legacy/" class="elem-text">소개</a>
    
    
</li>

        
        
<li >
    
    <a href="../../legacy/porting/" class="elem-text">1.18로 모드 포트하기</a>
    
    
</li>

        
    </ul>
</li>

                    
                </ul>
            </section>
        </aside>
    </div>

    <div class="sidebar-sticky-wrapper-content">
        <article class="docs-entry">
            
            <h1 id="_1">게임 테스트<a class="headerlink" href="#_1" title="Permanent link"> </a></h1>
<p>게임 테스트는 게임 속에서 단위 테스트를 수행할 수 있도록 해줍니다. 이 시스템은 확장하기 쉽고 한 번에 여러 테스트를 효율적으로 수행할 수 있습니다. 이 프레임워크는 여러 게임 속 객체의 상호 작용을 테스트할 때 유용합니다.</p>
<h2 id="_2">게임 테스트 작성하기<a class="headerlink" href="#_2" title="Permanent link"> </a></h2>
<p>게임 테스트는 일반적으로 다음 세 단계로 이루어지는데:</p>
<ol>
<li>게임 테스트를 수행할 장소를 불러옴. 이때 구조물 블록으로 생성한 <code>.nbt</code> 파일 등을 사용함.</li>
<li>해당 장소에서 테스트 로직 수행.</li>
<li>테스트 결과 확인. 만약 테스트에 실패했다면 해당 장소에 인접한 독서대에 결과를 기록함.</li>
</ol>
<p>다시 말해서, 게임 테스트를 작성하기 위해선 테스트를 수행할 환경이 조성되어 있는 장소가 필요합니다. 구조물 블록을 활용하면 <code>.nbt</code> 파일을 생성하실 수 있습니다.</p>
<h3 id="_3">테스트 로직 작성하기<a class="headerlink" href="#_3" title="Permanent link"> </a></h3>
<p>각 테스트 로직은 아래와 같이 <code>Consumer&lt;GameTestHelper&gt;</code>로 표현될 수 있는 메서드 입니다. 메서드를 게임 테스트 로직으로 사용하시려면 무조건 <code>GameTest</code> 어노테이션이 있어야 합니다:</p>
<pre class="highlight"><code class="language-java">public class ExampleGameTests {
  @GameTest
  public static void exampleTest(GameTestHelper helper) {
    // 테스트 수행
  }
}</code></pre>
<p><code>@GameTest</code> 어노테이션은 테스트 수행 방식을 설정할 수도 있습니다.</p>
<pre class="highlight"><code class="language-java">@GameTest(
  setupTicks = 20L, // 테스트를 준비하는 동안 20틱이 걸림
  required = false // 테스트 실패 시 기록은 하나 전체 테스트 결과에 영향을 끼치지 않음
)
public static void exampleConfiguredTest(GameTestHelper helper) {
  // 테스트 수행
}</code></pre>
<h4 id="_4">상대 좌표<a class="headerlink" href="#_4" title="Permanent link"> </a></h4>
<p><code>GameTestHelper</code>는 주어진 상대 좌표를 구조체 블록의 위치를 활용해서 절대 좌표로 이동시키는 메서드 <code>GameTestHelper#absolutePos</code>와 <code>GameTestHelper#relativePos</code>를 제공합니다. </p>
<p>상대 좌표는 <a href="#게임-테스트-수행하기">/test 명령어</a>를 활용해 확인하실 수 있습니다, 먼저 상대 좌표를 확인하고 싶은 곳으로 이동한 다음 <code>/test pos</code>를 사용하시면 됩니다. 200블록 이내의 가장 가까운 구조체 블록을 기준 삼아 현재 플레이어의 상대 좌표를 찾아 Java 코드 형태로 출력해 줍니다.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>만약 출력되는 Java 코드의 변수 이름까지 지정하고 싶으시다면 아래와 같이 변수 이름까지 적으시면 됩니다:</p>
<pre class="highlight"><code class="language-bash">/test pos &lt;var&gt; # 출력: 'final BlockPos &lt;var&gt; = new BlockPos(...);'</code></pre>
</div>
<h4 id="_5">테스트 통과 시<a class="headerlink" href="#_5" title="Permanent link"> </a></h4>
<p>게임 테스트 로직은 테스트를 성공적으로 수행하면 무조건 해당 테스트를 통과했다고 표시해야 합니다, 만약 테스트가 (<code>GameTest#timeoutTicks</code>로 정의할 수 있는) 제한 시간이 끝나기 전에 통과했다고 표시되지 않는다면 자동으로 실패한 것으로 간주합니다.</p>
<p><code>GameTestHelper</code>에선 이를 위해 여러 메서드들을 제공합니다, 이중 언제 무엇을 사용해야 하는지 숙지하도록 하세요. </p>
<table>
<thead>
<tr>
<th align="center">메서드 이름</th>
<th align="left">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>#succeed</code></td>
<td align="left">테스트 통과 표시.</td>
</tr>
<tr>
<td align="center"><code>#succeedIf</code></td>
<td align="left">주어진 <code>Runnable</code>을 실행하고, 만약 예외 <code>GameTestAssertException</code>이 발생하지 않았다면 성공한 것으로 간주. 또한 테스트는 첫 번째 틱에서 오직 한 번만 수행함.</td>
</tr>
<tr>
<td align="center"><code>#succeedWhen</code></td>
<td align="left">주어진 <code>Runnable</code>을 실행하고, 만약 예외 <code>GameTestAssertException</code>이 제한 시간이 끝나기 전까지 한 번도 발생하지 않았다면 성공한 것으로 간주.</td>
</tr>
<tr>
<td align="center"><code>#succeedOnTickWhen</code></td>
<td align="left">주어진 <code>Runnable</code>을 지정된 틱에 실행하고, 만약 예외 <code>GameTestAssertException</code>이 발생하지 않았다면 성공한 것으로 간주. 만약 주어진 <code>Runnable</code>이 지정된 틱 말고 다른 시간에 성공했다면 실패한 것으로 간주.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>게임 테스트는 성공할 때까지 매 틱마다 수행됩니다. 만약 일정 시간을 기다려야 하는 테스트가 있다면, 그전에는 무조건 테스트가 실패하여야만 합니다.</p>
</div>
<h4 id="_6">작업 스케줄<a class="headerlink" href="#_6" title="Permanent link"> </a></h4>
<p>모든 작업이 테스트가 시작하자마자 수행되는 것은 아닙니다, 다음 메서드들을 활용해 작업을 언제 수행할지 설정하실 수 있습니다:</p>
<table>
<thead>
<tr>
<th align="center">메서드 이름</th>
<th align="left">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>#runAtTickTime</code></td>
<td align="left">주어진 작업을 지정된 틱에 수행함.</td>
</tr>
<tr>
<td align="center"><code>#runAfterDelay</code></td>
<td align="left">주어진 작업을 <code>x</code> 틱만큼 기다렸다가 수행함.</td>
</tr>
<tr>
<td align="center"><code>#onEachTick</code></td>
<td align="left">주어진 작업을 매 틱마다 수행함.</td>
</tr>
</tbody>
</table>
<h4 id="assertions">Assertions<a class="headerlink" href="#assertions" title="Permanent link"> </a></h4>
<p>게임 테스트를 수행하면서, 언제든지 특정 조건의 참/거짓 여부를 확인할 수 있습니다. <code>GameTestHelper</code>에는 이를 위해, 특정 조건이 만족하지 않을 경우 예외 <code>GameTestAssertException</code>을 발생시키는 여러 메서드가 있습니다.</p>
<h3 id="_7">테스트 로직 생성하기<a class="headerlink" href="#_7" title="Permanent link"> </a></h3>
<p>만약 테스트 로직을 동적으로 생성하셔야 한다면, 다음과 같이 받는 인자는 없고 <code>Collection&lt;TestFunction&gt;</code>을 반환하는 테스트 로직 생성기를 정의하실 수 있습니다. 해당 생성기는 무조건 <code>@GameTestGenerator</code>가 있어야 합니다:</p>
<pre class="highlight"><code class="language-java">public class ExampleGameTests {
  @GameTestGenerator
  public static Collection&lt;TestFunction&gt; exampleTests() {
    // Collection&lt;TestFunction&gt;만들어서 반환하기
  }
}</code></pre>
<h4 id="testfunction">TestFunction<a class="headerlink" href="#testfunction" title="Permanent link"> </a></h4>
<p><code>TestFunction</code>은 테스트의 수행 방법과 여러 설정, 제한 시간, 테스트 로직과 같이 테스트 수행에 있어 중요한 정보들을 종합적으로 담고 있는 클래스입니다.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code>@GameTest</code>가 붙은 모든 메서드들은 <code>GameTestRegistry#turnMethodIntoTestFunction</code>를 통해 <code>TestFunction</code>으로 변환됩니다. 필요하시다면 이 메서드를 직접 호출하셔도 됩니다.</p>
</div>
<h3 id="batching">Batching<a class="headerlink" href="#batching" title="Permanent link"> </a></h3>
<p>테스트를 등록 순서 여러 테스트를 하나의 배치로 묶어 실행할 수도 있습니다. 여러 테스트는 <code>GameTest#batch</code>에 동일한 문자열을 전달하는 것으로 하나의 배치로 묶을 수 있습니다.</p>
<p>배치 기능은 자체적으로 유용하진 않지만, 테스트 환경 조성 및 정리할 때 유용하게 쓰일 수 있습니다. <code>@BeforeBatch</code>를 테스트 환경을 조성할 때 사용할 수 있고, <code>@AfterBatch</code>로 정리할 수 있습니다. </p>
<p>위 두 어노테이션은 <code>Consumer&lt;ServerLevel&gt;</code>로 표현되는 메서드에 붙일 수 있습니다, 다시 말해서 이 어노테이션은 <code>ServerLevel</code>을 인자로 받고 반환값이 없는 함수에 사용해야 합니다:</p>
<pre class="highlight"><code class="language-java">public class ExampleGameTests {
  @BeforeBatch(batch = "firstBatch")
  public static void beforeTest(ServerLevel level) {
    // 테스트 환경 조성
  }

  @GameTest(batch = "firstBatch")
  public static void exampleTest2(GameTestHelper helper) {
    // 테스트 수행
  }
}</code></pre>
<h2 id="_8">게임 테스트 등록하기<a class="headerlink" href="#_8" title="Permanent link"> </a></h2>
<p>게임 테스트를 수행하기 위해선 먼저 등록되어야만 합니다, <code>@GameTestHolder</code>로 자동으로 등록할 수도 있고, <code>RegisterGameTestsEvent</code>로 직접 등록하실 수도 있습니다. 무엇을 사용하시든 간에, <code>@GameTest</code>, <code>@GameTestGenerator</code>, <code>@BeforeBatch</code>, 또는 <code>@AfterBatch</code>가 등록되는 메서드에 있어야 합니다.</p>
<h3 id="gametestholder">GameTestHolder<a class="headerlink" href="#gametestholder" title="Permanent link"> </a></h3>
<p><code>@GameTestHolder</code>는 특정 타입(클래스, 인터페이스, 열거형, 레코드) 안의 모든 테스트 메서드들을 자동으로 등록해 주는 어노테이션입니다. 해당 어노테이션은 <code>#value</code>라는 메서드가 있는데, 여러 사용 방법이 있지만 일단 지금은 모드 아이디를 사용하도록 하겠습니다.</p>
<pre class="highlight"><code class="language-java">@GameTestHolder(MODID)
public class ExampleGameTests {
  // ...
}</code></pre>
<h3 id="registergametestsevent">RegisterGameTestsEvent<a class="headerlink" href="#registergametestsevent" title="Permanent link"> </a></h3>
<p><code>RegisterGameTestEvent</code>또한 클래스, 또는 메서드를 <code>#register</code>로 등록할 수 있습니다. 해당 이벤트는 <a href="../../concepts/events/#이벤트-핸들러-만들기">모드 버스에 방송됩니다.</a> 여기서 등록하는 모든 테스트 로직은 <code>GameTest#templateNamespace</code>로 무조건 모드 아이디를 지정해야 합니다.</p>
<pre class="highlight"><code class="language-java">// 이벤트 핸들러
public void registerTests(RegisterGameTestsEvent event) {
  event.register(ExampleGameTests.class);
}

// 게임 테스트 클래스
@GameTest(templateNamespace = MODID)
public static void exampleTest3(GameTestHelper helper) {
  // Perform setup
}</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>GameTestHolder#value</code>와 <code>GameTest#templateNamespace</code>에 전달되는 문자열은 모드 아이디 말고 다른 것을 사용하셔도 됩니다만, <a href="#다른-게임-테스트-네임-스페이스-활성화하기">빌드스크립트</a>의 기본 설정은 모드 아이디와 일치하는 네임 스페이스에 포함된 게임 테스트만 실행하기 때문에 이를 수정하셔야 합니다.</p>
</div>
<h2 id="_9">구조물<a class="headerlink" href="#_9" title="Permanent link"> </a></h2>
<p>이전에 각 게임 테스트는 특정한 장소에서 실행해야 한다고 했습니다. 이러한 장소는 구조물 블록으로 정의할 수 있는데, 이때 테스트를 실행할 차원, 초기 데이터(블록 및 엔티티) 등을 지정할 수 있습니다. 각 구조물은 <code>data/&lt;namespace&gt;/structures</code>에 <code>.nbt</code> 확장자와 함께 저장되어야 합니다.</p>
<p>게임 테스트를 실행할 구조물 파일의 위치는 다음 세 가지 기준을 바탕으로 정의됩니다:</p>
<ul>
<li>구조물의 네임 스페이스가 정의되어 있는가?</li>
<li>테스트를 실행하는 클래스의 이름이 구조물 파일의 접두사로 와야 하는가?</li>
<li>구조물 파일의 이름이 정의되어 있는가?</li>
</ul>
<p>구조물 파일의 네임 스페이스는 이를 사용할 게임 테스트의 <code>GameTest#templateNamespace</code>로 정의합니다, 만약 이가 따로 정의되어 있지 않다면 해당 게임 테스트를 포함하는 클래스의 <code>GameTestHolder#value</code>를, 이 또한 정의되어 있지 않다면, 기본값으로 <code>minecraft</code>를 사용합니다.</p>
<p>게임 테스트 로직, 또는 해당 로직을 포함하는 클래스에 <code>@PrefixGameTestTemplate</code>가 있고, 해당 어노테이션의 <code>#value</code> 값이 <code>false</code>라면, 구조물 파일 이름에 클래스 이름이 붙지 않습니다. 만약 그렇지 않다면, 구조물 파일의 이름은 <code>"&lt;소문자 클래스 이름&gt;.&lt;구조물 파일 이름&gt;.nbt"</code>가 됩니다. </p>
<p>구조물 파일의 이름은 <code>GameTest#template</code>으로 정의하는데, 기본값으로 해당 어노테이션이 붙은 테스트 로직 메서드의 이름을 소문자로 바꾸어 사용합니다.</p>
<pre class="highlight"><code class="language-java">// 구조물 파일의 네임 스페이스는 MODID가 됨
@GameTestHolder(MODID)
public class ExampleGameTests {

  // 구조물 파일 앞에 클래스 이름을 붙임, 구조물 파일 이름은 따로 지정하지 않음
  // 구조물 파일 위치: 'modid:examplegametests.exampletest'
  @GameTest
  public static void exampleTest(GameTestHelper helper) { /*...*/ }

  // 구조물 파일 앞에 클래스 이름을 붙이지 않음, 구조물 파일 이름은 따로 지정하지 않음
  // 구조물 파일 위치: 'modid:exampletest2'
  @PrefixGameTestTemplate(false)
  @GameTest
  public static void exampleTest2(GameTestHelper helper) { /*...*/ }

  // 구조물 파일 앞에 클래스 이름을 붙임, 구조물 파일 이름 지정
  // 구조물 파일 위치: 'modid:examplegametests.test_template'
  @GameTest(template = "test_template")
  public static void exampleTest3(GameTestHelper helper) { /*...*/ }

  // 구조물 파일 앞에 클래스 이름을 붙이지 않음, 구조물 파일 이름 지정
  // 구조물 파일 위치: 'modid:test_template2'
  @PrefixGameTestTemplate(false)
  @GameTest(template = "test_template2")
  public static void exampleTest4(GameTestHelper helper) { /*...*/ }
}</code></pre>
<h2 id="_10">게임 테스트 수행하기<a class="headerlink" href="#_10" title="Permanent link"> </a></h2>
<p>게임 테스트는 <code>/test</code> 명령어로 실행할 수 있습니다. 이 명령어는 설정할 방법이 많지만, 대개 아래 5가지 부 명령어 중 하나를 사용합니다:</p>
<table>
<thead>
<tr>
<th align="center">부 명령어</th>
<th align="left">설명</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>run</code></td>
<td align="left">지정된 테스트 실행: <code>run &lt;test_name&gt;</code>.</td>
</tr>
<tr>
<td align="center"><code>runall</code></td>
<td align="left">활성화된 모든 테스트 실행.</td>
</tr>
<tr>
<td align="center"><code>runthis</code></td>
<td align="left">플레이어 기준 15칸 안에 있는 가장 가까운 테스트 실행.</td>
</tr>
<tr>
<td align="center"><code>runthese</code></td>
<td align="left">플레이어 기준 200칸 안에 있는 모든 테스트 실행.</td>
</tr>
<tr>
<td align="center"><code>runfailed</code></td>
<td align="left">방금 실패한 모든 테스트 다시 실행.</td>
</tr>
</tbody>
</table>
<h2 id="_11">빌드스크립트 설정<a class="headerlink" href="#_11" title="Permanent link"> </a></h2>
<p>게임 세트는 빌드 스크립트(<code>build.gradle</code> 파일)에서도 설정하실 수 있습니다.</p>
<h3 id="_12">다른 게임 테스트 네임 스페이스 활성화하기<a class="headerlink" href="#_12" title="Permanent link"> </a></h3>
<p>만약 <a href="../../gettingstarted/#간단한-buildgradle-설정">빌드스크립트 기본 설정</a>을 사용하신다면, 현재 모드 아이디의 게임 테스트만 활성화될 것입니다. 다른 네임 스페이스도 활성화하기 위해선 속성 <code>forge.enabledGameTestNamespaces</code>의 값을 <code>,</code>로 구분된 활성화할 네임 스페이스들의 목록인 문자열로 지정하셔야 합니다.</p>
<pre class="highlight"><code class="language-gradle">// 빌드 스크립트 설정
property 'forge.enabledGameTestNamespaces', 'modid1,modid2,modid3'</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>이때 띄어쓰기는 사용하지 마세요.</p>
</div>
<h3 id="_13">게임 테스트 실행 구성<a class="headerlink" href="#_13" title="Permanent link"> </a></h3>
<p>게임 테스트 서버는 빌드 스크립트가 자동으로 서버를 실행하고 게임 테스트를 수행하도록 하는 실행 구성입니다. 이때 실행된 서버는 테스트 수행 이후, <code>GameTest#required</code>가 <code>true</code>인 모든 실패한 테스트의 개수를 프로세스 종료값으로 반환합니다. 모든 실패한 테스트는 출력 로그에 기록됩니다. 게임 테스트 서버는 <code>gradlew runGameTestServer</code>를 사용해 실행하실 수 있습니다.</p>
<h3 id="_14">다른 실행 구성에서 게임 테스트 사용하기<a class="headerlink" href="#_14" title="Permanent link"> </a></h3>
<p>기본적으로, <code>client</code>, <code>server</code>, <code>gameTestServer</code>만 게임 테스트 기능이 활성화 되어있습니다. 만약 다른 실행 구성에서도 게임 테스트를 사용하시고 싶으시다면 <code>forge.enableGameTest</code> 속성값을 <code>true</code>로 설정하셔야만 합니다.</p>
<pre class="highlight"><code class="language-gradle">// 빌드 스크립트
property 'forge.enableGameTest', 'true'</code></pre>
            
        </article>
        
    </div>
</main>
<div class="wrapper">
    <footer>
        Built with <a href="https://www.mkdocs.org">MkDocs</a> using a custom theme.
        <div class="theme-switch-wrapper">
            Enable Dark Theme
            <label class="theme-switch">
                <input type="checkbox">
                <span class="slider round"></span>
            </label>
        </div>
    </footer>
</div>
</body>
</html>